{
  "repo": "Unidata/thredds",
  "path": "visad/src/main/java/ucar/nc2/iosp/gempak/GempakFileReader.java",
  "func_name": "GempakFileReader.init",
  "original_string": "protected boolean init(boolean fullCheck) throws IOException {\n    if (rf == null) {\n      throw new IOException(\"file has not been set\");\n    }\n\n    dmLabel = new DMLabel();\n    boolean labelOk = dmLabel.init();\n\n    if (!labelOk) {\n      logError(\"not a GEMPAK file\");\n      return false;\n    }\n\n    // Read the keys  (DM_RKEY)\n    readKeys();\n    if (keys == null) {\n      logError(\"Couldn't read keys\");\n      return false;\n    }\n\n    // Read the headers (DM_RHDA)\n    readHeaders();\n    if (headers == null) {\n      logError(\"Couldn't read headers\");\n      return false;\n    }\n\n    // Read the parts (DM_RPRT)\n    readParts();\n    if (parts == null) {\n      logError(\"Couldn't read parts\");\n      return false;\n    }\n\n    // Read the file header info (DM_RFIL)\n    readFileHeaderInfo();\n    if (fileHeaderInfo == null) {\n      logError(\"Couldn't read file header info\");\n      return false;\n    }\n\n    return true;\n  }",
  "language": "java",
  "code": "protected boolean init(boolean fullCheck) throws IOException {\n    if (rf == null) {\n      throw new IOException(\"file has not been set\");\n    }\n\n    dmLabel = new DMLabel();\n    boolean labelOk = dmLabel.init();\n\n    if (!labelOk) {\n      logError(\"not a GEMPAK file\");\n      return false;\n    }\n\n    // Read the keys  (DM_RKEY)\n    readKeys();\n    if (keys == null) {\n      logError(\"Couldn't read keys\");\n      return false;\n    }\n\n    // Read the headers (DM_RHDA)\n    readHeaders();\n    if (headers == null) {\n      logError(\"Couldn't read headers\");\n      return false;\n    }\n\n    // Read the parts (DM_RPRT)\n    readParts();\n    if (parts == null) {\n      logError(\"Couldn't read parts\");\n      return false;\n    }\n\n    // Read the file header info (DM_RFIL)\n    readFileHeaderInfo();\n    if (fileHeaderInfo == null) {\n      logError(\"Couldn't read file header info\");\n      return false;\n    }\n\n    return true;\n  }",
  "code_tokens": [
    "protected",
    "boolean",
    "init",
    "(",
    "boolean",
    "fullCheck",
    ")",
    "throws",
    "IOException",
    "{",
    "if",
    "(",
    "rf",
    "==",
    "null",
    ")",
    "{",
    "throw",
    "new",
    "IOException",
    "(",
    "\"file has not been set\"",
    ")",
    ";",
    "}",
    "dmLabel",
    "=",
    "new",
    "DMLabel",
    "(",
    ")",
    ";",
    "boolean",
    "labelOk",
    "=",
    "dmLabel",
    ".",
    "init",
    "(",
    ")",
    ";",
    "if",
    "(",
    "!",
    "labelOk",
    ")",
    "{",
    "logError",
    "(",
    "\"not a GEMPAK file\"",
    ")",
    ";",
    "return",
    "false",
    ";",
    "}",
    "// Read the keys  (DM_RKEY)",
    "readKeys",
    "(",
    ")",
    ";",
    "if",
    "(",
    "keys",
    "==",
    "null",
    ")",
    "{",
    "logError",
    "(",
    "\"Couldn't read keys\"",
    ")",
    ";",
    "return",
    "false",
    ";",
    "}",
    "// Read the headers (DM_RHDA)",
    "readHeaders",
    "(",
    ")",
    ";",
    "if",
    "(",
    "headers",
    "==",
    "null",
    ")",
    "{",
    "logError",
    "(",
    "\"Couldn't read headers\"",
    ")",
    ";",
    "return",
    "false",
    ";",
    "}",
    "// Read the parts (DM_RPRT)",
    "readParts",
    "(",
    ")",
    ";",
    "if",
    "(",
    "parts",
    "==",
    "null",
    ")",
    "{",
    "logError",
    "(",
    "\"Couldn't read parts\"",
    ")",
    ";",
    "return",
    "false",
    ";",
    "}",
    "// Read the file header info (DM_RFIL)",
    "readFileHeaderInfo",
    "(",
    ")",
    ";",
    "if",
    "(",
    "fileHeaderInfo",
    "==",
    "null",
    ")",
    "{",
    "logError",
    "(",
    "\"Couldn't read file header info\"",
    ")",
    ";",
    "return",
    "false",
    ";",
    "}",
    "return",
    "true",
    ";",
    "}"
  ],
  "docstring": "Initialize the file, read in all the metadata (ala DM_OPEN)\n\n@param fullCheck if true, check entire structure\n@return true if successful\n@throws IOException problem reading file",
  "docstring_tokens": [
    "Initialize",
    "the",
    "file",
    "read",
    "in",
    "all",
    "the",
    "metadata",
    "(",
    "ala",
    "DM_OPEN",
    ")"
  ],
  "sha": "d2d68f9eee87f345625211324d71d5dc3e162ee1",
  "url": "https://github.com/Unidata/thredds/blob/d2d68f9eee87f345625211324d71d5dc3e162ee1/visad/src/main/java/ucar/nc2/iosp/gempak/GempakFileReader.java#L147-L189",
  "partition": "test"
}