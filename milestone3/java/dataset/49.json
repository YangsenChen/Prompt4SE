{
  "repo": "jcodec/jcodec",
  "path": "src/main/java/org/jcodec/common/io/DummyBitstreamReader.java",
  "func_name": "DummyBitstreamReader.peakNextBits",
  "original_string": "public int peakNextBits(int n) throws IOException {\n        if (n > 8)\n            throw new IllegalArgumentException(\"N should be less then 8\");\n        if (nBit == 8) {\n            advance();\n            if (curByte == -1) {\n                return -1;\n            }\n        }\n        int[] bits = new int[16 - nBit];\n\n        int cnt = 0;\n        for (int i = nBit; i < 8; i++) {\n            bits[cnt++] = (curByte >> (7 - i)) & 0x1;\n        }\n\n        for (int i = 0; i < 8; i++) {\n            bits[cnt++] = (nextByte >> (7 - i)) & 0x1;\n        }\n\n        int result = 0;\n        for (int i = 0; i < n; i++) {\n            result <<= 1;\n            result |= bits[i];\n        }\n\n        return result;\n    }",
  "language": "java",
  "code": "public int peakNextBits(int n) throws IOException {\n        if (n > 8)\n            throw new IllegalArgumentException(\"N should be less then 8\");\n        if (nBit == 8) {\n            advance();\n            if (curByte == -1) {\n                return -1;\n            }\n        }\n        int[] bits = new int[16 - nBit];\n\n        int cnt = 0;\n        for (int i = nBit; i < 8; i++) {\n            bits[cnt++] = (curByte >> (7 - i)) & 0x1;\n        }\n\n        for (int i = 0; i < 8; i++) {\n            bits[cnt++] = (nextByte >> (7 - i)) & 0x1;\n        }\n\n        int result = 0;\n        for (int i = 0; i < n; i++) {\n            result <<= 1;\n            result |= bits[i];\n        }\n\n        return result;\n    }",
  "code_tokens": [
    "public",
    "int",
    "peakNextBits",
    "(",
    "int",
    "n",
    ")",
    "throws",
    "IOException",
    "{",
    "if",
    "(",
    "n",
    ">",
    "8",
    ")",
    "throw",
    "new",
    "IllegalArgumentException",
    "(",
    "\"N should be less then 8\"",
    ")",
    ";",
    "if",
    "(",
    "nBit",
    "==",
    "8",
    ")",
    "{",
    "advance",
    "(",
    ")",
    ";",
    "if",
    "(",
    "curByte",
    "==",
    "-",
    "1",
    ")",
    "{",
    "return",
    "-",
    "1",
    ";",
    "}",
    "}",
    "int",
    "[",
    "]",
    "bits",
    "=",
    "new",
    "int",
    "[",
    "16",
    "-",
    "nBit",
    "]",
    ";",
    "int",
    "cnt",
    "=",
    "0",
    ";",
    "for",
    "(",
    "int",
    "i",
    "=",
    "nBit",
    ";",
    "i",
    "<",
    "8",
    ";",
    "i",
    "++",
    ")",
    "{",
    "bits",
    "[",
    "cnt",
    "++",
    "]",
    "=",
    "(",
    "curByte",
    ">>",
    "(",
    "7",
    "-",
    "i",
    ")",
    ")",
    "&",
    "0x1",
    ";",
    "}",
    "for",
    "(",
    "int",
    "i",
    "=",
    "0",
    ";",
    "i",
    "<",
    "8",
    ";",
    "i",
    "++",
    ")",
    "{",
    "bits",
    "[",
    "cnt",
    "++",
    "]",
    "=",
    "(",
    "nextByte",
    ">>",
    "(",
    "7",
    "-",
    "i",
    ")",
    ")",
    "&",
    "0x1",
    ";",
    "}",
    "int",
    "result",
    "=",
    "0",
    ";",
    "for",
    "(",
    "int",
    "i",
    "=",
    "0",
    ";",
    "i",
    "<",
    "n",
    ";",
    "i",
    "++",
    ")",
    "{",
    "result",
    "<<=",
    "1",
    ";",
    "result",
    "|=",
    "bits",
    "[",
    "i",
    "]",
    ";",
    "}",
    "return",
    "result",
    ";",
    "}"
  ],
  "docstring": "/*\n(non-Javadoc)\n\n@see ua.org.jplayer.javcodec.h264.RBSPInputStream#next_bits(int)",
  "docstring_tokens": [
    "/",
    "*",
    "(",
    "non",
    "-",
    "Javadoc",
    ")"
  ],
  "sha": "cd6efa51ef05f409a8ba8cfb7521f4b4f10ccc75",
  "url": "https://github.com/jcodec/jcodec/blob/cd6efa51ef05f409a8ba8cfb7521f4b4f10ccc75/src/main/java/org/jcodec/common/io/DummyBitstreamReader.java#L153-L180",
  "partition": "test"
}